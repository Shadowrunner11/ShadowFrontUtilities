const t=(t,e=document.body)=>e.querySelector(t),e=(t,e=document.body)=>[...e.querySelectorAll(t)];(new class{_currentIndex=0;constructor(n=".carousel"){const i=t(n);if(!i)throw new Error("No existe el contendor");const[s,r]=e(".carousel_button",i);this.leftButton=s,this.rigthButton=r,this.images=e("img",i),this.innerContainer=t(".container",i),this.speed=Number(i.getAttribute("data-speed"))||void 0}get currentImage(){return this.images&&this.images[this._currentIndex]}get currentIndex(){return this._currentIndex}setCurrentIndex(t){const{images:e}=this;if(!e)throw new Error("there is not images list");const n=t(this._currentIndex);this._currentIndex=n<0?e.length-1:n===e.length?0:n}_clickHandler(t){this.setCurrentIndex((e=>(this.switchVisibility(e),e+t))),this.switchVisibility(this.currentIndex)}switchVisibility(t){const{images:e}=this;if(!e)throw new Error("There is not images list");e[t].classList.toggle("hidden")}animate(t=!1){const{images:e}=this;if(!e)throw new Error("there is not images list");return this.leftButton.addEventListener("click",(t=>{t.preventDefault(),this.setCurrentIndex((t=>t-1)),this.innerContainer.style.transform=`translateX(-${this.currentIndex}00vw)`,this.transition(Directions.RIGHT,this.speed)})),this.rigthButton.addEventListener("click",(t=>{t.preventDefault(),this.setCurrentIndex((t=>t+1)),this.innerContainer.style.transform=`translateX(-${this.currentIndex}00vw)`,this.transition(Directions.LEFT,this.speed)})),t&&this.inyectCrumbles(),this}transition(t=Directions.LEFT,e=800){setTimeout((()=>this.innerContainer.style.animation=""),e),setTimeout((()=>this.innerContainer.style.animation=`translate_${t} ${e}ms`))}inyectCrumbles(){const t=document.createElement("div");t.classList.add("crumble_container"),t.append(...this.images?.map(((t,e)=>{const n=document.createElement("div");return n.setAttribute("data-index",e.toString()),n.classList.add("crumble"),n.addEventListener("click",(()=>{this.setCurrentIndex((()=>e)),this.innerContainer.style.transform=`translateX(-${this.currentIndex}00vw)`})),n}))??[]),this.innerContainer.parentElement?.appendChild(t)}}).animate(!0);
